# WebSocket Server Configuration
# Copy this file to .env.websocket and configure for your environment

# Basic Configuration
WS_PORT=8081
WS_HOST=0.0.0.0
NODE_ENV=production

# Clustering (Production)
WS_ENABLE_CLUSTERING=true
WS_WORKERS=4
WS_MAX_CONNECTIONS_PER_WORKER=1000

# Security
JWT_ACCESS_SECRET=your-super-secure-jwt-secret-key-here
WS_ALLOWED_ORIGINS=https://yourdomain.com,https://app.yourdomain.com
WS_ENABLE_RATE_LIMIT=true
WS_RATE_LIMIT_WINDOW=60000
WS_RATE_LIMIT_MAX=100

# Performance
WS_ENABLE_COMPRESSION=true
WS_COMPRESSION_THRESHOLD=1024
WS_HEARTBEAT_INTERVAL=30000
WS_CONNECTION_TIMEOUT=10000
WS_TOKEN_REFRESH_THRESHOLD=300000

# Monitoring
WS_ENABLE_METRICS=true
WS_METRICS_PORT=9090
WS_ENABLE_HEALTH_CHECKS=true
WS_HEALTH_CHECK_INTERVAL=30000

# Logging
WS_LOG_LEVEL=info
WS_ENABLE_STRUCTURED_LOGGING=true
WS_DEBUG=false

# Graceful Shutdown
WS_SHUTDOWN_TIMEOUT=30000

# Load Balancing
WS_ENABLE_STICKY_SESSION=true
WS_SESSION_AFFINITY_KEY=userId

# Circuit Breaker
WS_CIRCUIT_BREAKER_THRESHOLD=10
WS_CIRCUIT_BREAKER_TIMEOUT=300000

# Database (if using persistent notifications)
DATABASE_URL=postgresql://username:password@localhost:5432/rt_express

# Redis (for clustering and session management)
REDIS_URL=redis://localhost:6379
WS_ENABLE_REDIS_ADAPTER=true

# SSL/TLS (for wss://)
WS_ENABLE_SSL=false
WS_SSL_CERT_PATH=/path/to/cert.pem
WS_SSL_KEY_PATH=/path/to/key.pem

# CORS
WS_ENABLE_CORS=true
WS_CORS_ORIGIN=*
WS_CORS_CREDENTIALS=true

# Proxy Support (for load balancers)
WS_TRUST_PROXY=true
WS_PROXY_TIMEOUT=30000
